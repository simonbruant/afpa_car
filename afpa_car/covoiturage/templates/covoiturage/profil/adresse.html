{% extends 'covoiturage/profil.html' %}

{% block cardTitle %} 

<div class="row">
    <div id="titre_profil" class="card-header bg-success col-md-12 mb-3">Adresses</div>
</div>

{% endblock cardTitle %}

{% block contenuProfil %}

<!-- TODO : Afficher le string si aucune adresse existante -->
<!-- TODO : Else afficher les addresses 3 max (?) -->
<p>Vos adresses enregistrées s'afficheront ici.</p>


<!-- si 0 adresse -> <p>string</p> ++ Formulaire visible-->

<!-- si 1 adresse -> <center> ++ Formulaire visible-->
<!-- si 2 adresse -> []     [] ++ bouton ADD ADDRESS -->
<!-- si 3 adresse -> [] [] [] ++ bouton ADD ADDRESS -->

<div id="container_card_address">

    {% for lieu in address_context %}
{% comment %}
{% if address_context|length == 3 %}
<br/>
{% endif %}
{{ address_context }}
<br/>
{{ address_context|length }}
<br/>
{{ lieu }}
{% endcomment %}


{% comment %}
{% if address_context|length == 3 %}
<br/>
{% endif %}
{% url 'covoiturage:address_update' address_context.id %}
{% url 'covoiturage:address_delete' address.id %}
{% endcomment %}

{% comment %} TODO : REMPLACER LES CARD PAR LE CODE BOOTSTRAP EN ADAPTANT DIMENSION !{% endcomment %}

{% comment %} TODO : .capitalize() premiere lettre du LABEL dans la card {% endcomment %}

<div id="litle_golum">  </div> 
<div id="card_address">
    <div id="card_address_content">
        <div>
            <div id="address_label">{{ lieu.address_label }}</div>
        </div>
        <div >
            <div>
                <div>{{ lieu.street_number }}, {{ lieu.street_name }}</div>
                <div>{{ lieu.zip_code }}, {{ lieu.city }}</div>
            </div>
        <div><a href="{% url 'covoiturage:address_update' lieu.id %}" id="btn_card_footer">Modifier</a></div>

        <div>|</div>
        <div><a href="{% url 'covoiturage:address_delete' lieu.id %}" id="btn_card_footer">Supprimer</a></div>
        </div>
    </div>
</div>
<br/>

{% endfor %}




</div>







<div class="row">
    <hr style="height: 2px; color: lightgray; background-color: lightgray; width: 400px; border: none;">
</div>


<div class="row">
    <div class="col-md-2"></div>
    
    <form class="col-md-8" action="" method="POST">
        {% csrf_token %}

        <div class="input-group mb-3 mt-3">
            <div class="input-group-prepend">
                <div id="header_input_profil" class="input-group-text">Libellé de l'adresse</div>
            </div>
            {{ form.address_label }}
        </div>

        
        <div class="input-group mb-3 mt-3">
            <div class="input-group-prepend">
                <div id="header_input_profil" class="input-group-text">Numéro de la rue</div>
            </div>
            {{ form.street_number }} 
        </div>

        <div class="input-group mb-3 mt-3">
            <div class="input-group-prepend">
                <div id="header_input_profil" class="input-group-text">Nom de la rue</div>
            </div>
            {{ form.street_name }} 
        </div>

        <div class="input-group mb-3 mt-3">
            <div class="input-group-prepend">
                    <div id="header_input_profil" class="input-group-text">Complément d'adresse</div>
            </div>
            {{ form.street_complement }} 
        </div>

        <div class="input-group mb-3 mt-3">
            <div class="input-group-prepend">
                <div id="header_input_profil" class="input-group-text">Code Postal</div>
            </div>
            {{ form.zip_code }} 
        </div>

        <div class="input-group mb-3 mt-3">
            <div class="input-group-prepend">
                <div id="header_input_profil" class="input-group-text">Ville</div>
            </div>
            {{ form.city }} 
        </div>

        <div id="submit_profil">
            <button type="submit" class="btn btn-success">Valider l'adresse</button>
        </div>




        {% if form.errors %}
        <p>Il y a eu une erreur lors de la création</p>
        {% else %}
        <p>Aucune erreur</p>
        {% endif %}
        <br />
    </form>

</div>


        

{% endblock contenuProfil %}